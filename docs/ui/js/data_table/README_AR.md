# ูููู ุฌุฏูู ุงูุจูุงูุงุช ุงูุนุงู (Generic Data Table Component)

ูููู ุฌุงูุง ุณูุฑูุจุช ุนุงู ููุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ูุนุฑุถ ุฌุฏุงูู ุงูุจูุงูุงุชุ ูุชุนุงูู ูุน ุฌูุจ ุงูุจูุงูุงุช ูู APIุ ุงูุนุฑุถุ ุชูุณูู ุงูุตูุญุงุช (Pagination)ุ ุงูุชุญุฏูุฏุ ูุงูุชุตุฏูุฑ ุฏูู ุงูุญุงุฌุฉ ููุนุฑูุฉ ููุทู ุงูุนูู (Business Logic).

## ุงููููุฒุงุช
- ๐ **ุจุฏูู ููุทู ุฃุนูุงู**: ูุนุฑุถ ููุท ูุง ูุฑุณูู ุงูู API.
- ๐ก **ุฌูุจ ุจูุงูุงุช ูุฏูุฌ**: ูุชุนุงูู ูุน ุทูุจุงุช `POST` ูุงููุชุบูุฑุงุช.
- ๐ **ุชูุณูู ุงูุตูุญุงุช**: ูุฏุนู ุงูู Pagination ูู ุฌุงูุจ ุงูุฎุงุฏู ูุน ุฎูุงุฑุงุช ุชุฎุตูุต ุนุฏุฏ ุงูุตูุญุงุช.
- โ **ุงูุชุญุฏูุฏ**: ุฎูุงุฑ ูุชุญุฏูุฏ ุงูุตููู ูุน ุฎุงุตูุฉ "ุชุญุฏูุฏ ุงููู".
- ๐จ **ุนุฑุถ ูุฎุตุต**: ุฅููุงููุฉ ุญูู HTML ูุฎุตุต ูุฃุนูุฏุฉ ูุนููุฉ.
- ๐ค **ุชุตุฏูุฑ**: ุชุตุฏูุฑ ูุฏูุฌ ููููุงุช CSV, Excel, PDF (ูู ุฌุงูุจ ุงูุนููู).
- ๐ **ูุธุงู ุงูุฃุญุฏุงุซ**: ูุฑุณู ุฃุญุฏุงุซ ูุฎุตุตุฉ (Custom Events) ููุชูุงุนู ูุน ุงูุตูุญุฉ ุงูุฃุจ.
- ๐งฉ **ุงูุชุฑุชูุจ**: ุฏุนู ุงูุชุฑุชูุจ (Sorting) ูู ุฌุงูุจ ุงูุนููู.

## ุงููุชุทูุจุงุช
- Tailwind CSS (ููุชูุณูู)
- FontAwesome / HeroIcons (ุงูุฃููููุงุช ูุฏูุฌุฉ ุฏุงุฎููุงู)

## ุงูุจุฏุก ุงูุณุฑูุน

```html
<div id="table-container"></div>

<script src="/path/to/data_table.js"></script>
<script>
    const headers = ["ุงููุนุฑู", "ุงูุงุณู", "ุงูุจุฑูุฏ", "ุงูุญุงูุฉ", "ุงูุฅุฌุฑุงุกุงุช"];
    const rowKeys = ["id", "name", "email", "status", "actions"];
    
    // ุชููุฆุฉ ูุชุญููู ุงูุจูุงูุงุช
    createTable(
        '/api/users/list',  // ุฑุงุจุท ุงูู API
        { page: 1 },        // ุงููุชุบูุฑุงุช ุงูุฃูููุฉ
        headers,            // ุนูุงููู ุงูุฃุนูุฏุฉ
        rowKeys,            // ููุงุชูุญ ุงููุงุฆูุงุช ูู ุฑุฏ ุงูู API
        true                // ุชูุนูู ุงูุชุญุฏูุฏ
    );
</script>
```

## ูุฑุฌุน ุงูู API

### `createTable(apiUrl, params, headers, rowKeys, withSelection, primaryKey, onSelectionChange, customRenderers, selectableIds, getPaginationInfo)`

ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ. ุชููู ุจุฌูุจ ุงูุจูุงูุงุช ูุนุฑุถ ุงูุฌุฏูู.

| ุงููุชุบูุฑ | ุงูููุน | ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ | ุงููุตู |
|-----------|------|---------|-------------|
| `apiUrl` | String | | ุฑุงุจุท ุงูู API ูุฌูุจ ุงูุจูุงูุงุช (POST). |
| `params` | Object | | ุงูุจูุงูุงุช ุงููุฑุณูุฉ ููู API (ูุซู `{ page: 1 }`). |
| `headers` | Array | | ุงููุตูุต ุงูุชู ุณุชุธูุฑ ูู ุฑุฃุณ ุงูุฌุฏูู. |
| `rowKeys` | Array | | ุงูููุงุชูุญ ุงููุทุงุจูุฉ ูุฎุตุงุฆุต ูุงุฆู ุงูุจูุงูุงุช. |
| `withSelection` | Boolean | `false` | ุชูุนูู ุนููุฏ ุฎูุงุฑุงุช ุงูุชุญุฏูุฏ (Checkboxes). |
| `primaryKey` | String | `'id'` | ุงูููุชุงุญ ุงููุฑูุฏ ูุชุชุจุน ุงูุชุญุฏูุฏ. |
| `onSelectionChange` | Function | `null` | ุฏุงูุฉ ุงุณุชุฏุนุงุก ุนูุฏ ุงูุชุบููุฑ `(selectedIds) => {}`. |
| `customRenderers` | Object | `{}` | ูุงุฆู ูุญุชูู ุนูู ุฏูุงู ูุชุฎุตูุต ุนุฑุถ ุงูุฃุนูุฏุฉ. |
| `selectableIds` | Set/Array | `null` | ูุงุฆูุฉ ุจุงููุนุฑูุงุช ุงููุณููุญ ุจุชุญุฏูุฏูุง ููุท. |
| `getPaginationInfo` | Function | `null` | ุฏุงูุฉ ูุชุฎุตูุต ูุต ูุนูููุงุช ุงูุตูุญุงุช `{ total, info }`. |

### `TableComponent(data, columns, rowNames, paginationData, ...)`

ูุณุคูู ุนู ุจูุงุก ูุงุฌูุฉ ุงููุณุชุฎุฏู. ูุชู ุงุณุชุฏุนุงุคู ุฏุงุฎููุงู ุจูุงุณุทุฉ `createTable`ุ ูููู ูููู ุงุณุชุฎุฏุงูู ูุจุงุดุฑุฉ ุฅุฐุง ูุงูุช ูุฏูู ุจูุงูุงุช ุซุงุจุชุฉ.

## ุงูุนุฑุถ ุงููุฎุตุต (Custom Renderers)

ููููู ุชูุณูู ุฃุนูุฏุฉ ูุญุฏุฏุฉ (ูุซู ุฅุถุงูุฉ ุฃุฒุฑุงุฑุ ุดุงุฑุงุช ููููุฉุ ุฃู ุฑูุงุจุท).

```javascript
const renderers = {
    status: (value, row) => {
        const color = value === 'Active' ? 'green' : 'red';
        return `<span class="text-${color}-600 font-bold">${value}</span>`;
    },
    actions: (value, row) => {
        return `<button onclick="editUser(${row.id})" class="btn-primary">ุชุนุฏูู</button>`;
    }
};

createTable(api, params, headers, keys, true, 'id', null, renderers);
```

## ุงูุฃุญุฏุงุซ (Events)

ูุฑุณู ุงูุฌุฏูู ุญุฏุซ `tableAction` ุนูู ุงูู `document` ููุชูุงุนู.

```javascript
document.addEventListener('tableAction', (e) => {
    const { action, value, currentParams } = e.detail;

    if (action === 'pageChange') {
        console.log(`ุชู ุงูุงูุชูุงู ููุตูุญุฉ ${value}`);
        // ุนุงุฏุฉู ูุง ุชุฑูุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุฌุฏูู ููุง
        currentParams.page = value;
        createTable(apiUrl, currentParams, ...);
    }
    
    if (action === 'perPageChange') {
        console.log(`ุชู ุชุบููุฑ ุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงูุตูุญุฉ ุฅูู ${value}`);
    }
});
```

## ุชุตุฏูุฑ ุงูุจูุงูุงุช
ูุชู ุฅูุดุงุก ุซูุงุซุฉ ุฃุฒุฑุงุฑ ุชููุงุฆูุงู ุฃุนูู ุงูุฌุฏูู:
- **CSV**: ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ ุจุตูุบุฉ CSV.
- **Excel**: ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ ุจุตูุบุฉ `.xls`.
- **PDF**: ูุชุญ ุนุฑุถ ูุงุจู ููุทุจุงุนุฉ.

## ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
ูู ุญุงู ูุดู ุงูุงุชุตุงู ุจุงูู API:
1. ุงูุชุญูู ูู ุตุญุฉ ุงููุตูููุงุช ุงููุฏุฎูุฉ.
2. ุฅุธูุงุฑ ูุคุดุฑ ุงูุชุญููู (Loading Spinner).
3. ุงูุชูุงุท ุฃุฎุทุงุก ุงูุดุจูุฉ ูุนุฑุถ ูุงุฌูุฉ ุฎุทุฃ ุณููุฉ ูููุณุชุฎุฏู ูุน ุฒุฑ "ุฅุนุงุฏุฉ ุงููุญุงููุฉ" (Retry).
