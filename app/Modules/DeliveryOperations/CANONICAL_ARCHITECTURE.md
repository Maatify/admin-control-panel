# Canonical Architecture - Delivery Operations

**Status:** Canonical / Locked
**Source of Truth:** `docs/architecture/logging/unified-logging-system.en.md`

## Domain Definition
*   **Name:** Delivery Operations
*   **Intent:** Lifecycle tracking for async ops (Jobs, Queues, Notifications).
*   **Control Flow:** MUST NOT impact control flow (Fail-Open).
*   **Secrets:** MUST NOT store passwords, tokens, or secrets.

## Layering
1.  **Recorder:** `DeliveryOperationsRecorder` (Policy Boundary, Fail-Open)
2.  **Contract:** `DeliveryOperationsLoggerInterface`
3.  **DTO:** `DeliveryOperationRecordDTO` (Immutable)
4.  **Infrastructure:** `PdoDeliveryOperationsWriter` (PDO)
5.  **Database:** `delivery_operations` (Canonical Schema)

## Rules
*   **One-Domain Rule:** Only `delivery_operations` are handled here.
*   **Fail-Open:** Swallowing of exceptions happens in `DeliveryOperationsRecorder`.
*   **Infrastructure Honesty:** `PdoDeliveryOperationsWriter` throws exceptions on failure.
*   **UUIDs:** Generated by the Recorder.
*   **Time:** Provided by `ClockInterface`.
